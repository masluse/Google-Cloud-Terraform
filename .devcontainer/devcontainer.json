{
  "image": "mcr.microsoft.com/devcontainers/universal:2",
  "features": {
    "install": [
      "wget",
      "curl",
      "apt-transport-https",
      "ca-certificates",
      "gnupg",
      "software-properties-common"
    ]
  },
  "postCreateCommand": [
    "wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg",
    "echo 'deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main' | sudo tee /etc/apt/sources.list.d/hashicorp.list",
    "sudo apt update && sudo apt install terraform -y",
    "sudo apt update && sudo apt upgrade -y",
    "sudo apt -y install software-properties-common",
    "sudo apt-add-repository ppa:ansible/ansible -y",
    "sudo apt update && sudo apt install ansible -y",
    "sudo apt-get install apt-transport-https ca-certificates gnupg curl sudo -y",
    "echo 'deb [signed-by=/usr/share/keyrings/cloud.google.asc] https://packages.cloud.google.com/apt cloud-sdk main' | sudo tee /etc/apt/sources.list.d/google-cloud-sdk.list",
    "curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key --keyring /usr/share/keyrings/cloud.google.gpg add -",
    "sudo apt-get update && sudo apt-get install google-cloud-cli -y"
  ],
  "extensions": [
    "4ops.terraform",
    "hashicorp.terraform",
    "redhat.ansible",
    "github.copilot"
  ],
  "runArgs": ["--cap-add=SYS_ADMIN", "--cap-add=SYS_PTRACE", "--security-opt", "apparmor=unconfined"],
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker-host.sock,type=bind"
  ],
  "remoteUser": "vscode",
  "settings": {
    "terminal.integrated.shell.linux": "/bin/bash"
  }
}
